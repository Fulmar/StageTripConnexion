function getListPays(a){$.ajax({dataType:"json",url:baseUrl+"index.php?option=com_tpcxtags&task=listpays&continent_id="+a,success:function(a){$("select[name=p]").empty();$("select[name=p]").append('<option value="">--- Choisissez ---</option>');$.each(a,function(a,b){$("select[name=p]").append('<option value="'+b.id+'">'+b.tag+"</option>")});$(".label-pays").removeClass("loader")},beforeSend:function(a){$(".label-pays").addClass("loader")}})} function getListThematique(a){pays_id=a;continent_id=$("form[name=annuaireDestination] select[name=c]").val();$.ajax({dataType:"json",url:baseUrl+"index.php?option=com_tpcxtags&task=listthematique&continent_id="+continent_id+"&pays_id="+pays_id,success:function(a){$("select[name=t]").empty();$("select[name=t]").append('<option value="">--- Choisissez ---</option>');$.each(a,function(a,b){$("select[name=t]").append('<option value="'+b.id+'">'+b.tag+"</option>")});$(".label-thematique").removeClass("loader")}, beforeSend:function(a){$(".label-thematique").addClass("loader")}})} function getListPaysMappemonde(a){$.ajax({dataType:"json",url:baseUrl+"index.php?option=com_tpcxtags&task=listpays&continent_id="+a,success:function(a){$(".box-mappemonde .list-pays").empty();nbUl=0;$.each(a,function(a,b){if(0==a%6){nbUl++;var d=$("<ul>",{id:"ul-list-pays-"+nbUl});$(".box-mappemonde .list-pays").append(d);elementUl=$(".box-mappemonde .list-pays #ul-list-pays-"+nbUl)}var d=$("<li>"),e=$("<a>",{href:"",target:"_parent",text:b.tag}).bind("click",function(a){a.preventDefault();$("#dataMappemonde").show(); el=this;$("a#btn-choix-partenaire-mappemonde").bind("click",function(a){a.preventDefault();window.top.location.href=baseUrl+"annuaire?c=&p="+b.id+"&t="});$("a#btn-choix-produit-mappemonde").bind("click",function(a){a.preventDefault();window.top.location.href=baseUrl+"voyages?c=&p="+b.id+"&t="})});$(d).append(e);elementUl.append(d)});$(".box-mappemonde .loader").hide()},beforeSend:function(a){$(".box-mappemonde .loader").show()}})} function isIe(){version=!1;/MSIE\s([\d.]+)/.test(navigator.userAgent)&&(version=new Number(RegExp.$1));return version}function insertNewsletter(){var a=$("#email-newsletter").val(),b=$("#provenance-newsletter").val();""!=a&&$.ajax({dataType:"json",url:baseUrl+"index.php?option=com_tpcxtags&task=insertNewsletter&email="+a+"&provenance="+b,success:function(a){$("#txt-newsletter-confirm").html(a)}})}function split(a){return a.split(/,\s*/)}function extractLast(a){return split(a).pop()} var accentMap={"\u00e0":"a","\u00e2":"a","\u00e9":"e","\u00e8":"e","\u00ea":"e","\u00eb":"e","\u00ef":"i","\u00ee":"i","\u00f4":"o","\u00f6":"o","\u00fb":"u","\u00f9":"u"},normalize=function(a){for(var b="",c=0;c<a.length;c++)b+=accentMap[a.charAt(c)]||a.charAt(c);return b};