/*!
 * jquery.customSelect() - v0.3.3
 * http://adam.co/lab/jquery/customselect/
 * 2013-03-04
 *
 * Copyright 2013 Adam Coulombe
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 * @license http://www.gnu.org/licenses/gpl.html GPL2 License
 */
(function(d){d.fn.extend({customSelect:function(c){var f=function(b,c){var a=b.find(":selected"),d=c.children(":first"),a=a.html()||"&nbsp;";d.html(a);setTimeout(function(){c.removeClass("customSelectOpen")},60)};if("undefined"===typeof document.body.style.maxHeight)return this;c=d.extend({customClass:null,mapClass:!0,mapStyle:!0},c);return this.each(function(){var b=d(this),e=d('<span class="customSelectInner" />'),a=d('<span class="customSelect" />');a.append(e);b.after(a);c.customClass&&a.addClass(c.customClass); c.mapClass&&a.addClass(b.attr("class"));c.mapStyle&&a.attr("style",b.attr("style"));b.addClass("hasCustomSelect").on("update",function(){f(b,a);var c=parseInt(b.outerWidth(),10)-(parseInt(a.outerWidth(),10)-parseInt(a.width(),10));a.css({display:"inline-block"});var d=a.outerHeight();b.attr("disabled")?a.addClass("customSelectDisabled"):a.removeClass("customSelectDisabled");e.css({width:c,display:"inline-block"});b.css({"-webkit-appearance":"menulist-button",width:a.outerWidth(),position:"absolute", opacity:0,height:d,fontSize:a.css("font-size")})}).on("change",function(){a.addClass("customSelectChanged");f(b,a);len=$(".concept-home .customSelectInner").text().length;25<len&&$(".concept-home .customSelectInner").text($(".concept-home .customSelectInner").text().substr(0,25)+"...")}).on("keyup",function(){b.blur();b.focus()}).on("mousedown",function(){a.removeClass("customSelectChanged").addClass("customSelectOpen")}).focus(function(){a.removeClass("customSelectChanged").addClass("customSelectFocus")}).blur(function(){a.removeClass("customSelectFocus customSelectOpen")}).hover(function(){a.addClass("customSelectHover")}, function(){a.removeClass("customSelectHover")}).trigger("update")})}})})(jQuery);